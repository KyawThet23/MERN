<html>
  <!-- 
    function outer() {
      function inner() {
      }
    }
    The function inner is called a closure function.
    Closure is powerful because of its access to the scope chains.
    1. Variables that are declared in its own declaration.
    2. Access to the global variables.
    3. Access to the outer functionâ€™s variable.
    4. Access to the enclosing function parameters.
   -->
  <script>

    //closure is used to store context

    //closure example with sort by function.
    var people = [
      {firstname: "aaFirstName", lastname: "cclastName"},
      {firstname: "ccFirstName", lastname: "aalastName"},
      {firstname:"bbFirstName", lastname:"bblastName"}
    ];

    const sortBy = (property) => {
      return (a,b) => {
        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;
        return result;
      }
    };
    people = people.sort(sortBy('lastname'));
    console.log('Sort :',people);

    //unary
    let a = ['1', '2', '3'];
    console.log('a :',a.map(parseInt)); //[1, NaN, NaN]

    const unary = (fn) => fn.lenght === 1 ? fn : (arg) => fn(arg);
    

    console.log('unary a: ',a.map(unary(parseInt)));

    //memonize
    
    //3! = 3*2*1 ;
    var factorial = (n) => {
      console.log('Compute factorial for ',n);
      if (n === 0) {
      return 1;
      }
      return n * factorial(n - 1);
    }

    const memoized = (fn) => {
      const lookupTable = {};
      return (arg) => lookupTable[arg] || (lookupTable[arg] = 
      fn(arg));
    };

    const newFact = memoized(factorial);
    console.log('NewFact ',newFact(5));
    console.log('NewFact ',newFact(5)); 

  </script>
</html>